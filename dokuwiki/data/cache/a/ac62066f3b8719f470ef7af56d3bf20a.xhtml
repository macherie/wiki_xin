
<h1 class="sectionedit1" id="q_平台使用调试技巧">8625Q 平台使用调试技巧</h1>
<div class="level1">

<p>
<strong>这里记录了8625Q平台一些实用的调试技巧</strong>
</p>

</div>
<!-- EDIT1 SECTION "8625Q 平台使用调试技巧" [1-106] -->
<h2 class="sectionedit2" id="get_dump">Get dump</h2>
<div class="level2">

<p>
Get dump :
</p>

<p>
NV set ting:
</p>

<p>
905 0 (enter dload after a crash)
</p>

<p>
4399 1 (detect hardware reset)
</p>

<p>
The correct way to test the behavior after a crash would be:
</p>
<ol>
<li class="level1"><div class="li"> Set NV 905 to 0.</div>
</li>
<li class="level1"><div class="li"> Reset phone.</div>
</li>
<li class="level1"><div class="li"> [opt] Phone is running, send the command “send_data 75 37 03 00” in QXDM. (This triggers an ERR_FATAL on the phone)</div>
</li>
<li class="level1"><div class="li"> [opt] Phone should reboot and enter dload mode on its own.</div>
</li>
<li class="level1"><div class="li"> Run the QPST Memory Debug tool. The phone should show up as being in “download mode”</div>
</li>
<li class="level1"><div class="li"> Follow normal USB log collection procedure (basically click the “get regions” button, then “save to:”)</div>
</li>
</ol>

</div>
<!-- EDIT2 SECTION "Get dump" [107-703] -->
<h2 class="sectionedit3" id="get_build_id">Get Build ID</h2>
<div class="level2">
<pre class="code bash">adb shell <span class="kw2">cat</span> <span class="sy0">/</span>sys<span class="sy0">/</span>devices<span class="sy0">/</span>system<span class="sy0">/</span>soc<span class="sy0">/</span>soc0<span class="sy0">/</span>build_id</pre>

</div>
<!-- EDIT3 SECTION "Get Build ID" [704-803] -->
<h2 class="sectionedit4" id="查看有谁占这_wakelocks">查看有谁占这 wakelocks</h2>
<div class="level2">

<p>
用串口抓 cat /proc/wakelocks,然后用下面命令过滤
</p>
<pre class="code bash"><span class="kw2">cat</span> wakelocks.cap <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{print $1 &quot; &quot; $5}'</span> <span class="sy0">|</span> <span class="kw2">grep</span> <span class="re5">-v</span> <span class="st0">&quot; 0&quot;</span> <span class="sy0">|</span> <span class="kw2">grep</span> <span class="re5">-v</span> active</pre>

<p>
（过滤出第5位不是0， 不是列名的行）
</p>

</div>
<!-- EDIT4 SECTION "查看有谁占这 wakelocks" [804-] -->