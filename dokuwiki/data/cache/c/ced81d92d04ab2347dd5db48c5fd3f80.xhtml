
<h1 class="sectionedit1" id="在gitolite-admin新建库">1.在gitolite-admin新建库</h1>
<div class="level1">

<p>
 <strong><span style='color:red; '>此功能只有管理员才可操作</span></strong>
</p>

</div>
<!-- EDIT1 SECTION "1.在gitolite-admin新建库" [1-106] -->
<h3 class="sectionedit2" id="下载gitolite-admin">下载gitolite-admin</h3>
<div class="level3">

<p>
若本地没有可以下方式下载
</p>
<pre class="code">git clone git@192.167.100.232:gitolite-admin.git</pre>

</div>
<!-- EDIT2 SECTION "下载gitolite-admin" [107-236] -->
<h3 class="sectionedit3" id="添加库">添加库</h3>
<div class="level3">

<p>
<strong>1.  vim conf/gitolite.conf</strong> <br/>

</p>

<p>
<strong>2. 例如添加新的库platform/frameworks/opt/bluetooth<span style='color:red; '>(新建库的名称)</span></strong>
</p>
<pre class="code">repo    platform/frameworks/opt/bluetooth
               R       =   @all
               RW+     =   gerrit2</pre>

<p>
<strong>3.提交</strong> <br/>

 git add -m “XXXX”  <br/>

 git push <br/>

如此之后在gerrit服务器上将创建一个platform/frameworks/opt/bluetooth库
</p>

</div>
<!-- EDIT3 SECTION "添加库" [237-657] -->
<h3 class="sectionedit4" id="本地代码推送到gerrit服务器">本地代码推送到gerrit服务器</h3>
<div class="level3">

<p>
<strong>1.代码路径</strong> <br/>

cd frameworks/opt/bluetooth <br/>

</p>

<p>
<strong>2. 创建本地</strong> <br/>

git init 初始化库<br/>

git add -A 添加所有<br/>

git commit -m “XXXX”<br/>

</p>

<p>
<strong>3.推送到服务器</strong>
git push ssh:<em>kun.mao@192.167.100.232:29418/platform/frameworks/opt/bluetooth HEAD:refs/heads/<span style='color:red; '>服务器上分支名(一般以平台或项目命名，如8939_L，Q39_L)</span> <br/>


 <strong>4.repo管理</strong>
可参考以往项目创建.repo/manifests目录，并新建default.xml。<br/>

&lt;?xml version=“1.0” encoding=“UTF-8”?&gt;<br/>

&lt;manifest&gt;<br/>

  &lt;remote fetch=“git@192.167.100.232:/” name=“sim” review=“<a href="http://192.167.100.232:8080" class="urlextern" title="http://192.167.100.232:8080"  rel="nofollow">http://192.167.100.232:8080</a>”/&gt;<br/>

  &lt;default remote=“sim” revision=”<span style='color:red; '>服务器上分支名</span>”/&gt;<br/>

  &lt;project name=“platform/frameworks/opt/bluetooth” path=“frameworks/opt/bluetooth”/&gt;<br/>

&lt;/manifest&gt;


               
</p>

</div>
<!-- EDIT4 SECTION "本地代码推送到gerrit服务器" [658-] -->