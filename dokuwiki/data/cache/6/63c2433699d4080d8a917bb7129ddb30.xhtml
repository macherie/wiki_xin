
<p>
抓wifi log (曾在Q39上这样调试)
</p>

<p>
修改WCNSS_qcom_cfg.ini如下
</p>
<pre class="code">vosTraceEnableHDD = 255
vosTraceEnableSME = 255
vosTraceEnablePE = 255</pre>

<p>
1. 下载之前传的cfg.ini ,用下面的命令替换原有ini文件，
</p>
<pre class="code">adb shell setprop service.adb.root 1
adb push WCNSS_qcom_cfg.ini /data/misc/wifi/WCNSS_qcom_cfg.ini</pre>

<p>
重启手机。
</p>

<p>
2. 下载logmask ，QXDM使用这个logmask抓log，
</p>

<p>
3.  高通抓sniffer log时，不要设置
filter，他们需要完整的原始数据。
</p>

<p>
4. 用下面命令
</p>
<pre class="code">adb shell wpa_cli ifname=p2p0 log_level EXCESSIVE
adb shell wpa_cli ifname=wlan0 log_level EXCESSIVE</pre>

<p>
5. logcat和kernel log用下面的方法抓：
</p>
<pre class="code">adb shell logcat -v time -f /dev/kmsg | adb shell cat /proc/kmsg | tee kernel_logcat.txt</pre>

<p>
注意：抓kernel
log之前先用下面的命令获取root权限和退出SEandroid强制模式：
</p>
<pre class="code">adb shell setprop service.adb.root 1
adb shell setenforce 0</pre>
