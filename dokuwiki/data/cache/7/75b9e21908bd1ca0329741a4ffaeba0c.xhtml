
<p>
在S300项目上曾经遇到过一批机器成功连接上AP后却不能上网，搞了很长时间不知道原因。后来发现是MAC地址搞的鬼！
</p>

<p>
MAC地址是以太网二层使用的一个48bit（6字节十六进制数）的地址，用来标识设备位置。MAC地址分成两部分，前24位是组织唯一标识符（OUI, Organizationally unique identifier），后24位由厂商自行分配。
</p>

<p>
MAC地址有<strong>单播、组播、广播</strong>之分。单播地址(unicast address)表示单一设备、节点，多播地址或者组播地址(multicast address、group address)表示一组设备、节点，广播地址(broadcast address)是组播的特例，表示所有地址，用全F表示：FF-FF-FF-FF-FF-FF。
</p>

<p>
48bit的MAC地址一般用6字节的十六进制来表示，如XX-XX-XX-XX-XX。IEEE 802.3规定：以太网的第48bit用于表示这个地址是组播地址还是单播地址。如果这一位是0，表示此MAC地址是单播地址，如果这位是1，表示此MAC地址是多播地址。
</p>

<p>
因为以太网线路上按“Big Endian”字节序传送报文（也就是最高字节先传送），而比特序是”Little Endian”（也就是最低位先传送）。所以有如下的图（从最左边开始传送）：
<a href="/dokuwiki/lib/exe/detail.php/android;wifi;80211;mac_std.png?id=android%3Awifi%3A80211%3Amac_addr" class="media" title="android:wifi:80211:mac_std.png"><img src="/dokuwiki/lib/exe/fetch.php/android;wifi;80211;mac_std.png" class="media" alt="" /></a>
</p>

<p>
注意图上的第47bit，这一位表示MAC地址是全球唯一地址还是本地地址，0表示全球唯一地址，1表示本地唯一地址。这一位也叫G/L位。
</p>

<p>
<strong>对于网络设备上固化的MAC地址，因为它唯一标识这个设备，所以只能是单播地址，也就是MAC帧里面的Source地址第48位只能0！而当时我们的S300写的mac地址这位为1！</strong>。
</p>
