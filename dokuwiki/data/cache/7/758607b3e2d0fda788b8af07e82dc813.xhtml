
<h1 class="sectionedit1" id="高通平台编译android">高通平台编译Android</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> Android源码同步完成以后，再终端进入对应的目录，执行“source build/envsetup.sh”进行初始化设置。这个过程会添加一些shell命令到你的bash环境中。</div>
</li>
<li class="level1"><div class="li"> 然后输入“lunch”，会列出可以编译的不同目标，根据自己领到设备，选择对应的编号。（我拿到的设备是S100D的，我选择了”18”）</div>
</li>
</ul>

<p>
 <a href="/dokuwiki/lib/exe/detail.php?id=android%3A%E7%BC%96%E8%AF%91android&amp;media=android:qq%E6%88%AA%E5%9B%BE20140326104243.png" class="media" title="android:qq截图20140326104243.png"><img src="/dokuwiki/lib/exe/fetch.php?w=200&amp;tok=a84777&amp;media=android:qq%E6%88%AA%E5%9B%BE20140326104243.png" class="mediacenter" alt="" width="200" /></a>
</p>
<ul>
<li class="level1"><div class="li"> 然后确认选择”general”版，会列出相应的编译信息。</div>
</li>
<li class="level1"><div class="li"> 输入“make -j4 ”进行编译。（-j4代表充分利用现有的四核处理器，如果你的电脑有八核的话，可以使用”-j8”.）</div>
</li>
</ul>

</div>
<!-- EDIT1 SECTION "高通平台编译Android" [1-679] -->
<h1 class="sectionedit2" id="编译独立模块或镜像">编译独立模块或镜像</h1>
<div class="level1">

</div>
<!-- EDIT2 SECTION "编译独立模块或镜像" [680-720] -->
<h2 class="sectionedit3" id="编译bootloader">编译bootloader</h2>
<div class="level2">

<p>
make aboot
</p>

</div>
<!-- EDIT3 SECTION "编译bootloader" [721-758] -->
<h2 class="sectionedit4" id="编译recoveryimg">编译recovery.img</h2>
<div class="level2">
<pre class="code">make recoveryimage</pre>

</div>
<!-- EDIT4 SECTION "编译recovery.img" [759-822] -->
<h2 class="sectionedit5" id="编译bootimg">编译boot.img</h2>
<div class="level2">
<pre class="code">make kernel
或者
make bootimage</pre>

</div>
<!-- EDIT5 SECTION "编译boot.img" [823-897] -->
<h2 class="sectionedit6" id="编译systemimg">编译system.img</h2>
<div class="level2">
<pre class="code">make systemimage</pre>

</div>
<!-- EDIT6 SECTION "编译system.img" [898-957] -->
<h2 class="sectionedit7" id="编译userdataimg">编译userdata.img</h2>
<div class="level2">
<pre class="code">make userdataimage</pre>

</div>
<!-- EDIT7 SECTION "编译userdata.img" [958-1021] -->
<h2 class="sectionedit8" id="编译ramdiskimg">编译ramdisk.img</h2>
<div class="level2">
<pre class="code">make ramdisk</pre>

</div>
<!-- EDIT8 SECTION "编译ramdisk.img" [1022-1078] -->
<h2 class="sectionedit9" id="编译模块">编译模块</h2>
<div class="level2">
<pre class="code">make $MODULE
（$MODULE看Android.mk中的LOCAL_MODULE定义）</pre>

<p>
其他的编译命令：m、mm（直接编译当前路径下的代码）、mmm（跟需要编译的代码路径），见build/envsetup.sh
</p>

</div>
<!-- EDIT9 SECTION "编译模块" [1079-1319] -->
<h2 class="sectionedit10" id="编译模块之后的打包命令">编译模块之后的打包命令</h2>
<div class="level2">
<pre class="code">make snod</pre>

<p>
快速打包system.img
</p>

<p>
或
</p>
<pre class="code">out/host/linux-x86/bin/mkyaffs2image -f out/target/product/generic/system out/target/product/generic/system.img </pre>

</div>
<!-- EDIT10 SECTION "编译模块之后的打包命令" [1320-1545] -->
<h2 class="sectionedit11" id="清除编译文件">清除编译文件</h2>
<div class="level2">
<pre class="code">make clean</pre>

</div>
<!-- EDIT11 SECTION "清除编译文件" [1546-1601] -->
<h2 class="sectionedit12" id="注意">注意</h2>
<div class="level2">

<p>
在使用make clean之后，必须重新source build/envsetup.sh和lunch。
否则可能造成部分在宏（在build目录下声明的宏）没有被打开（没有被赋值）！
</p>

</div>
<!-- EDIT12 SECTION "注意" [1602-] -->