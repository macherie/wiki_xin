
<p>
<strong>函数和数组</strong>
</p>

<p>
<strong>如何在函数里返回浮点值呢？请看下面的例子</strong>
</p>

<p>
func()
{
</p>
<pre class="code">     local value=34.3434
     echo $value</pre>

<p>
}
</p>

<p>
ret=`func`
</p>

<p>
echo $ret
</p>

<p>
如果使用return返回函数结果，有两个限制！！
</p>

<p>
1.调用完函数后必须立即从$?取值。
</p>

<p>
2.返回的结果范围在0~255之间，否则非法！！
</p>

<p>
<strong>如何将数组传递给函数且如何传出数组呢？请看下面的例子<img src="/dokuwiki/lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" /></strong>
</p>

<p>
arrary()
{
</p>
<pre class="code">      local origarray
      local newarray
      local elements
      local i</pre>
<pre class="code">      origarray=(`echo &quot;$@&quot;`)
      newarray=(`echo &quot;$@&quot;`)</pre>
<pre class="code">      elements=$[ $# -1 ]
      for (( i = 0; i &lt;= $elements; i++ ))
      {
              newarray[$i]=$[ ${origarray[$i]} * 2 ]
      }</pre>
<pre class="code">      echo ${newarray[*]}</pre>

<p>
}
</p>

<p>
myarry=(1 2 3 4 5)
</p>

<p>
echo “the origarray is ${myarry[*]}”
</p>

<p>
arg=`echo ${myarry[*]}`
</p>

<p>
ret=(`arrary $arg`)
</p>

<p>
echo “the new array is ${ret[*]}”
</p>
