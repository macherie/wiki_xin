
<p>
以Commercial-CMCC-CS-DS.mbn为例修改EFS配置。
</p>

<p>
1，下载正确的modem_proc文件夹。
</p>

<p>
2，进入目录modem_proc\mcfg\mcfg_gen\generic\CMCC\
</p>

<p>
3, 打开MCFG_SW_Items_List_Macro.xlsm。安全提示的时候请选择启用宏。
</p>

<p>
4，勾选期望生成的mbn。
</p>

<p>
<a href="/dokuwiki/lib/exe/detail.php/linux;8939;q39;2.png?id=platform%3A8939%3Aq39%3A%E7%94%9F%E6%88%90mbn%E4%BB%A5%E5%8F%8Aap%E6%B5%8B%E7%BC%96%E8%AF%91mbn" class="media" title="linux:8939:q39:2.png"><img src="/dokuwiki/lib/exe/fetch.php/linux;8939;q39;2.png?w=800&amp;tok=417387" class="media" alt="" width="800" /></a>
</p>

<p>
5，刚才选中的为Commercial-CMCC-CS-DS，所以sheet”Commercial-CMCC-CS-DS”即为具体配置内容。
</p>

<p>
<a href="/dokuwiki/lib/exe/detail.php/linux;8939;q39;1.png?id=platform%3A8939%3Aq39%3A%E7%94%9F%E6%88%90mbn%E4%BB%A5%E5%8F%8Aap%E6%B5%8B%E7%BC%96%E8%AF%91mbn" class="media" title="linux:8939:q39:1.png"><img src="/dokuwiki/lib/exe/fetch.php/linux;8939;q39;1.png?w=800&amp;tok=ce3842" class="media" alt="" width="800" /></a>
</p>

<p>
6，修改EFS值：例如我们把T3245 Timer项的值由5改为6,保存后生成新的mbn。
</p>

<p>
7，新生成的mbn为
\modem_proc\mcfg\configs\mcfg_sw\generic\CMCC\Commercial-CMCC-CS-DS\mcfg_sw.mbn
</p>

<p>
8， 再生成
\modem_proc\mcfg\configs\mcfg_sw\generic\CMCC\ EPS_Only-CMCC-CS-DS\mcfg_sw.mbn
</p>

<p>
\modem_proc\mcfg\configs\mcfg_sw\generic\CMCC\Comb_Attach_W_IRAT-CMCC-CS-DS\mcfg_sw.mbn
</p>

<p>
\modem_proc\mcfg\configs\mcfg_sw\generic\CMCC\ Comb_Attach_TGL-CMCC-CS-DS\mcfg_sw.mbn
</p>

<p>
　　　　　　　　　　　　　　　　
</p>

<p>
第二节　重新编译 ap.
</p>

<p>
1，改名
　　
复制刚才生成的mcfg_sw.mbn到该文件夹后改名为Commercial-CMCC-CS-DS.mbn
</p>

<p>
替换下面文件夹中的文件比如Commercial-CMCC-CS-DS.mbn
</p>

<p>
\android\vendor\qcom\proprietary\telephony-apps\ModemTestMode\modemconfig\CMCC\CSFB\DSDS
</p>

<p>
2, 重新编译 ap， 下载 AP image到手机
</p>

<p>
3，拨号界面输入*#*#6266344#*#*  或者*#*#mconfig#*#*  
</p>

<p>
4，激活具体的mbn文件。
</p>

<p>
拨号界面输入*#*#76266344#*#*  或者*#*#qmconfig#*#* 或者*#1234# 或者运行MBN　Test的APP。进入界面后选择需要的CONFIG后Activate 然后Reboot。
</p>
