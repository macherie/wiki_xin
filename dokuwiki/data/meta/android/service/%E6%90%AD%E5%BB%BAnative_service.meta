a:2:{s:7:"current";a:9:{s:4:"date";a:2:{s:7:"created";i:1477990028;s:8:"modified";i:1478064410;}s:7:"creator";s:9:"齐东冉";s:4:"user";s:10:"dongran.qi";s:11:"last_change";a:7:{s:4:"date";i:1478064410;s:2:"ip";s:11:"172.19.6.10";s:4:"type";s:1:"E";s:2:"id";s:36:"android:service:搭建native_service";s:4:"user";s:12:"chongyang.hu";s:3:"sum";s:24:"[三、客户端实现] ";s:5:"extra";s:0:"";}s:11:"contributor";a:2:{s:10:"dongran.qi";s:9:"齐东冉";s:12:"chongyang.hu";s:12:"chongyang.hu";}s:5:"title";s:20:"搭建native service";s:11:"description";a:2:{s:15:"tableofcontents";a:4:{i:0;a:4:{s:3:"hid";s:16:"一_接口实现";s:5:"title";s:18:"一、接口实现";s:4:"type";s:2:"ul";s:5:"level";i:2;}i:1;a:4:{s:3:"hid";s:16:"二_服务实现";s:5:"title";s:18:"二、服务实现";s:4:"type";s:2:"ul";s:5:"level";i:2;}i:2;a:4:{s:3:"hid";s:19:"三_客户端实现";s:5:"title";s:21:"三、客户端实现";s:4:"type";s:2:"ul";s:5:"level";i:2;}i:3;a:4:{s:3:"hid";s:45:"四_将native_service添加为开机启动项";s:5:"title";s:47:"四、将native service添加为开机启动项";s:4:"type";s:2:"ul";s:5:"level";i:2;}}s:8:"abstract";s:627:"搭建native service

Native Service ：又称为 System Service ，是实现在 Runtime 层里的 Server 。搭建Native Service需要注意以下几点：

下面通过一个例子来详细描述Native Service的搭建

一、接口实现


#include <utils/RefBase.h>
#include <binder/IInterface.h>
#include <binder/Parcel.h>
#include "IPluginControler.h"

using namespace android;
using android::sp;

enum {
    IS_PLUGIN_ENABLE = IBinder::FIRST_CALL_TRANSACTION,    //枚举表示接口类提供的功能
    SET_PLUGIN_ENABLE
};

class IDataSourceService : public IInterface     //继承IInterface
{
public:
    DECLARE…";}s:8:"internal";a:2:{s:5:"cache";b:1;s:3:"toc";b:1;}s:8:"relation";a:1:{s:10:"firstimage";s:0:"";}}s:10:"persistent";a:5:{s:4:"date";a:2:{s:7:"created";i:1477990028;s:8:"modified";i:1478064410;}s:7:"creator";s:9:"齐东冉";s:4:"user";s:10:"dongran.qi";s:11:"last_change";a:7:{s:4:"date";i:1478064410;s:2:"ip";s:11:"172.19.6.10";s:4:"type";s:1:"E";s:2:"id";s:36:"android:service:搭建native_service";s:4:"user";s:12:"chongyang.hu";s:3:"sum";s:24:"[三、客户端实现] ";s:5:"extra";s:0:"";}s:11:"contributor";a:2:{s:10:"dongran.qi";s:9:"齐东冉";s:12:"chongyang.hu";s:12:"chongyang.hu";}}}