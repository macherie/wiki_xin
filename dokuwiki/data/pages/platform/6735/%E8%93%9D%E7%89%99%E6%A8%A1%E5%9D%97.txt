1.安装MTK蓝牙demo方法
   blink ---> /system/bin/blink  777                //BT协议栈主程序,可命令行运行
   blink_config.ini ----> /system/blink_config.ini  //AT指令,内带说明
   blink_ring.mp3 ----> /system/blink_ring.mp3      //来电铃声问题,可修改.只要名称和路径一样即可.删除不影响蓝牙使用.
   libwapm.so ----> /system/lib/libwapm.so 644      //blink 依赖库
   libblinkdriver.so ----> /system/lib/libwapm.so 644  //blink 依赖库
   adb install BTDemo.apk                           //安装apk 
   
2. 先运行blink,再运行apk

3.常用命令
   adb shell "setenforce 0"          //打开一些权限
   adb shell "blink /dev/ttyMT2"     //运行blink
   adb logcat -s blink               //log
   
4.写一个测试小工具

添加main.c
<code>
#include <stdio.h>
#include <stdlib.h>
#include <fcntl.h>
#include <string.h>
#include <android/log.h>
#include "utils/log.h"
#include <termios.h>
#include <time.h>
#include <unistd.h>
#include <sys/time.h>

int main()
{
	char buf[50];
	int rc;
	int i=0;
	int file_ptr;
	struct termios c_opt;	
	fd_set readfd;
	struct timeval timeout;
	char sendbuf[7]={0x04,0xE4,0x04,0x00,0x00,0x00,0x00};
	char wakebuf = 0x00;
	char startsession[6] = {0x04,0xE4,0x04,0x00,0xFF,0x14};

	file_ptr = open("/dev/ttyMT2", O_RDWR | O_NOCTTY | O_NDELAY | O_TRUNC);
	if (-1 == file_ptr) {
		__android_log_print(4, LOG_TAG, "Could not open uart port");
		return(-1);
	}
	
	if (tcflush(file_ptr, TCIOFLUSH) <0) {
		__android_log_print(4, LOG_TAG, "Could not flush uart port");
		return(-1);
	}
	
	fcntl(file_ptr, F_SETFL, 0);

	ioctl(file_ptr, TCGETS, &c_opt);

	c_opt.c_cc[VTIME]    = 0;  
	c_opt.c_cc[VMIN]     = 0; 

	c_opt.c_cflag &= ~(CSIZE | CRTSCTS);
        c_opt.c_cflag |= (CS8 | CLOCAL | CREAD);
	c_opt.c_iflag = IGNPAR;
        c_opt.c_oflag = 0;
	c_opt.c_lflag = 0;	
	
	cfsetospeed(&c_opt, B9600);
	cfsetispeed(&c_opt, B9600);
	
	ioctl(file_ptr, TCSETS, &c_opt);

	/*rc = write(file_ptr, buf, 3);
	__android_log_print(4, LOG_TAG, "buf = %x", buf[0]);
	LOGE("rc===========%d\n",rc);*/
	while(1)
	{
		//write(file_ptr,&wakebuf,1);
		memset(buf,0,50);
		usleep(60*1000);
		//write(file_ptr,startsession,7);
		timeout.tv_sec = 1;
		timeout.tv_usec = 0;
		//rc = select(file_ptr+1,&readfd,NULL,NULL,NULL);
		rc = 1;
		if(rc == -1)
		{
			LOGE("select error\n");
		}
		else if(rc)
		{
			LOGE("can read now\n");
			//if(FD_ISSET(file_ptr,&readfd))
			//{
				rc = read(file_ptr,buf,50);
				//for(i = 0; i < rc;i++)
				LOGE("----%s----\n",buf);
			//}

		}
		else if(rc==0)
		{
			LOGE("select time out\n");
		}
		sleep(3);
	}

	close(file_ptr);
	__android_log_print(4, LOG_TAG, "irdaWrite end");
	return 0;
}
</code>   
添加Android.mk
<code>
LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)

LOCAL_SRC_FILES:= main.c

LOCAL_MODULE:= zzz
LOCAL_MODULE_TAGS := optional eng
#LOCAL_C_INCLUDES :=

#LOCAL_STATIC_LIBRARIES :=

#LOCAL_SHARED_LIBRARIES := libcrypto
LOCAL_MODULE_PATH = $(TARGET_OUT)/bin
include $(BUILD_EXECUTABLE)
</code>