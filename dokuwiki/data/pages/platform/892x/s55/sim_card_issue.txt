=====由于IMEI导致不能识别SIM卡=====

客户返回了一台S55的机器，机器不能识别SIM卡,不知道客户具体做过些什么（无卡的显示无卡的标致，有卡的时候显示一个三角，CIT测试无法通过）.
=====分析过程:=====

1，由于当时比较忙，所以把机器给了硬件，硬件测试了SIM卡的相关信号确认没有问题，需要软件继续分析

2，给高通提了个case，要了一份如下的logmask来抓取log：

{{linux:892x:s55:uim.rar|}}

3, 由于需要抓开机的log,所以要求做以下设置，把SIM初始化往后推迟，否则抓取不到需要的log.

#Delay 10s

Please set NV4205 uim_config_params.future_use[57] to 10

Please collect qxdm log using attached log mask from power on to us for check

4, 按照高通的需求抓取QXDM log：

{{linux:892x:s55:20140815_uim_log.rar|}}

5, 高通分析出来得到的结论如下：

From this log, PERSO check fail because IMEI is not set or improperly set 

Fail reason:IMEI is not set or improperly set. 

Please set NV550(IMEI) to a valid value and test this. 

MSG [00021/03] User Identity Module/Error 22:03:20.857 mmgsdi_perso_engine.c 01459 MMGSDI: PERSO: IMEI is not set or improperly set 

MSG [00021/03] User Identity Module/Error 22:03:20.857 mmgsdi_perso_engine.c 01881 MMGSDI: PERSO: PERSO ENGINE Get IMEI Failure: 0x3 

MSG [00021/03] User Identity Module/Error 22:03:20.857 mmgsdi_perso_engine.c 03933 PERSO: UMTS Personalization failed 0x3 

MSG [00021/03] User Identity Module/Error 22:03:20.857 mmgsdi_perso_engine.c 04049 MMGSDI: PERSO: Could not get all feature indicators: 0x3 

MSG [00021/03] User Identity Module/Error 22:03:20.857 mmgsdi_perso_engine.c 04897 PERSO: Could not get all the locks 

MSG [00021/02] User Identity Module/High 22:03:20.861 mmgsdi.c 07985 MMGSDI_CARD_ERROR/REMOVED_EVT, condition: 0x16, slot: 0x1


6，把出问题的机器用QXDM连上之后发现，NV550被激活，但是所有的值为0,所以导致机器不能识别SIM卡，用QXDM写入一个正常的IMEI之后机器就能正常找到SIM卡了。

=====结论:=====

跟骁飞确认，系统开机会读取NV550的值，如果是没有被激活，采用代码里默认的IMEI值，如果被激活，系统就采用NV的值，如果NV

里面的值没有或者不符合规范，系统就会报错，从而导致不能识别SIM卡。



